{"remainingRequest":"/Users/admin2/Not/vue-crud/node_modules/babel-loader/lib/index.js!/Users/admin2/Not/vue-crud/src/store/modules/cart.js","dependencies":[{"path":"/Users/admin2/Not/vue-crud/src/store/modules/cart.js","mtime":1624347675730},{"path":"/Users/admin2/Not/vue-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin2/Not/vue-crud/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCBzaG9wIGZyb20gIi4uLy4uL2FwaS9zaG9wIjsKdmFyIHN0YXRlID0gewogIHByb2R1Y3RzOiBbXSwKICBjYXJ0OiBbXSwKICBjaGVja291dFN0YXR1czogbnVsbAp9Owp2YXIgZ2V0dGVycyA9IHsKICBhdmFpbGFibGVQcm9kdWN0czogZnVuY3Rpb24gYXZhaWxhYmxlUHJvZHVjdHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgcmV0dXJuIHByb2R1Y3QuaW52ZW50b3J5ID4gMDsKICAgIH0pOwogIH0sCiAgY2FydFByb2R1Y3RzOiBmdW5jdGlvbiBjYXJ0UHJvZHVjdHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jYXJ0Lm1hcChmdW5jdGlvbiAoY2FydEl0ZW0pIHsKICAgICAgdmFyIHByb2R1Y3QgPSBzdGF0ZS5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdC5pZCA9PT0gY2FydEl0ZW0uaWQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gewogICAgICAgIGlkOiBwcm9kdWN0WzBdLmlkLAogICAgICAgIHRpdGxlOiBwcm9kdWN0WzBdLnRpdGxlLAogICAgICAgIHByaWNlOiBwcm9kdWN0WzBdLnByaWNlLAogICAgICAgIGltYWdlOiBwcm9kdWN0WzBdLmltYWdlLAogICAgICAgIGludmVudG9yeTogcHJvZHVjdFswXS5pbnZlbnRvcnksCiAgICAgICAgcXVhbnRpdHk6IGNhcnRJdGVtLnF1YW50aXR5CiAgICAgIH07CiAgICB9KTsKICB9LAogIGNhcnRUb3RhbFByaWNlOiBmdW5jdGlvbiBjYXJ0VG90YWxQcmljZShzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGdldHRlcnMuY2FydFByb2R1Y3RzLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIHByb2R1Y3QpIHsKICAgICAgcmV0dXJuIHRvdGFsICsgcHJvZHVjdC5wcmljZSAqIHByb2R1Y3QucXVhbnRpdHk7CiAgICB9LCAwKTsKICB9LAogIGNhcnRUb3RhbFF1YW50aXR5OiBmdW5jdGlvbiBjYXJ0VG90YWxRdWFudGl0eShzdGF0ZSwgZ2V0dGVycykgewogICAgcmV0dXJuIGdldHRlcnMuY2FydFByb2R1Y3RzLnJlZHVjZShmdW5jdGlvbiAodG90YWwsIHByb2R1Y3QpIHsKICAgICAgcmV0dXJuIHRvdGFsICsgcHJvZHVjdC5xdWFudGl0eTsKICAgIH0sIDApOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRQcm9kdWN0czogZnVuY3Rpb24gc2V0UHJvZHVjdHMoc3RhdGUsIHByb2R1Y3RzKSB7CiAgICBzdGF0ZS5wcm9kdWN0cyA9IHByb2R1Y3RzOwogIH0sCiAgcHVzaFByb2R1Y3RUb0NhcnQ6IGZ1bmN0aW9uIHB1c2hQcm9kdWN0VG9DYXJ0KHN0YXRlLCBwcm9kdWN0SWQpIHsKICAgIHN0YXRlLmNhcnQucHVzaCh7CiAgICAgIGlkOiBwcm9kdWN0SWQsCiAgICAgIHF1YW50aXR5OiAxCiAgICB9KTsKICB9LAogIHBvcFByb2R1Y3RUb0NhcnQ6IGZ1bmN0aW9uIHBvcFByb2R1Y3RUb0NhcnQoc3RhdGUsIHByb2R1Y3RJZCkgewogICAgc3RhdGUuY2FydC5wdXNoKCk7CiAgfSwKICBpbmNyZW1lbnRQcm9kdWN0SW52ZW50b3J5OiBmdW5jdGlvbiBpbmNyZW1lbnRQcm9kdWN0SW52ZW50b3J5KHN0YXRlLCBwcm9kdWN0KSB7CiAgICBwcm9kdWN0LmludmVudG9yeSsrOwogIH0sCiAgZGVjcmVtZW50UHJvZHVjdEludmVudG9yeTogZnVuY3Rpb24gZGVjcmVtZW50UHJvZHVjdEludmVudG9yeShzdGF0ZSwgcHJvZHVjdCkgewogICAgcHJvZHVjdC5pbnZlbnRvcnktLTsKICB9LAogIGluY3JlbWVudEl0ZW1RdWFudGl0eTogZnVuY3Rpb24gaW5jcmVtZW50SXRlbVF1YW50aXR5KHN0YXRlLCBjYXJ0SXRlbSkgewogICAgY2FydEl0ZW0ucXVhbnRpdHkrKzsKICB9LAogIGRlY3JlbWVudEl0ZW1RdWFudGl0eTogZnVuY3Rpb24gZGVjcmVtZW50SXRlbVF1YW50aXR5KHN0YXRlLCBjYXJ0SXRlbSkgewogICAgY2FydEl0ZW0ucXVhbnRpdHktLTsKICB9LAogIHNldENhcnRJdGVtczogZnVuY3Rpb24gc2V0Q2FydEl0ZW1zKHN0YXRlLCBfcmVmKSB7CiAgICB2YXIgaXRlbXMgPSBfcmVmLml0ZW1zOwogICAgc3RhdGUuaXRlbXMgPSBpdGVtczsKICB9LAogIHNldENoZWNrb3V0U3RhdHVzOiBmdW5jdGlvbiBzZXRDaGVja291dFN0YXR1cyhzdGF0ZSwgc3RhdHVzKSB7CiAgICBzdGF0ZS5jaGVja291dFN0YXR1cyA9IHN0YXR1czsKICB9LAogIGVtcHR5Q2FydDogZnVuY3Rpb24gZW1wdHlDYXJ0KHN0YXRlKSB7CiAgICBzdGF0ZS5jYXJ0ID0gW107CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBmZXRjaFByb2R1Y3Q6IGZ1bmN0aW9uIGZldGNoUHJvZHVjdChfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKCiAgICB0cnkgewogICAgICBzaG9wLmdldFByb2R1Y3RzKGZ1bmN0aW9uIChwcm9kdWN0cykgewogICAgICAgIGNvbW1pdCgic2V0UHJvZHVjdHMiLCBwcm9kdWN0cyk7CiAgICAgIH0pOwogICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfQogIH0sCiAgYWRkUHJvZHVjdFRvQ2FydDogZnVuY3Rpb24gYWRkUHJvZHVjdFRvQ2FydChjb250ZXh0LCBwcm9kdWN0KSB7CiAgICBpZiAocHJvZHVjdC5pbnZlbnRvcnkgPiAwKSB7CiAgICAgIHZhciBjYXJ0SXRlbSA9IGNvbnRleHQuc3RhdGUuY2FydC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT09IHByb2R1Y3QuaWQ7CiAgICAgIH0pOwoKICAgICAgaWYgKCFjYXJ0SXRlbSkgewogICAgICAgIGNvbnRleHQuY29tbWl0KCJwdXNoUHJvZHVjdFRvQ2FydCIsIHByb2R1Y3QuaWQpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnRleHQuY29tbWl0KCJpbmNyZW1lbnRJdGVtUXVhbnRpdHkiLCBjYXJ0SXRlbSk7CiAgICAgIH0KCiAgICAgIGNvbnRleHQuY29tbWl0KCJkZWNyZW1lbnRQcm9kdWN0SW52ZW50b3J5IiwgcHJvZHVjdCk7CiAgICB9CiAgfSwKICBhZGRRdWFudGl0eVRvQ2FydDogZnVuY3Rpb24gYWRkUXVhbnRpdHlUb0NhcnQoY29udGV4dCwgcHJvZHVjdCkgewogICAgaWYgKHByb2R1Y3QuaW52ZW50b3J5ID4gMCkgewogICAgICB2YXIgY2FydEl0ZW0gPSBjb250ZXh0LnN0YXRlLmNhcnQuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkID09PSBwcm9kdWN0LmlkOwogICAgICB9KTsKCiAgICAgIGlmICghY2FydEl0ZW0pIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgicHVzaFByb2R1Y3RUb0NhcnQiLCBwcm9kdWN0LmlkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgiaW5jcmVtZW50SXRlbVF1YW50aXR5IiwgY2FydEl0ZW0pOwogICAgICB9CgogICAgICBjb250ZXh0LmNvbW1pdCgiZGVjcmVtZW50UHJvZHVjdEludmVudG9yeSIsIHByb2R1Y3QpOwogICAgfQogIH0sCiAgcG9wUXVhbnRpdHlUb0NhcnQ6IGZ1bmN0aW9uIHBvcFF1YW50aXR5VG9DYXJ0KGNvbnRleHQsIHByb2R1Y3QpIHsKICAgIGlmIChwcm9kdWN0LmludmVudG9yeSA+IDApIHsKICAgICAgdmFyIGNhcnRJdGVtID0gY29udGV4dC5zdGF0ZS5jYXJ0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gcHJvZHVjdC5pZDsKICAgICAgfSk7CgogICAgICBpZiAoIWNhcnRJdGVtKSB7CiAgICAgICAgY29udGV4dC5jb21taXQoInB1c2hQcm9kdWN0VG9DYXJ0IiwgcHJvZHVjdC5pZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29udGV4dC5jb21taXQoImRlY3JlbWVudEl0ZW1RdWFudGl0eSIsIGNhcnRJdGVtKTsKICAgICAgfQoKICAgICAgY29udGV4dC5jb21taXQoImluY3JlbWVudFByb2R1Y3RJbnZlbnRvcnkiLCBwcm9kdWN0KTsKICAgIH0KICB9LAogIGNoZWNrb3V0OiBmdW5jdGlvbiBjaGVja291dChfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgc2hvcC5idXlQcm9kdWN0cyhzdGF0ZS5jYXJ0LCBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbW1pdCgiZW1wdHlDYXJ0Iik7CiAgICAgIGNvbW1pdCgic2V0Q2hlY2tvdXRTdGF0dXMiLCAic3VjY2VzcyIpOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBjb21taXQoInNldENoZWNrb3V0U3RhdHVzIiwgImZhaWwiKTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/admin2/Not/vue-crud/src/store/modules/cart.js"],"names":["shop","state","products","cart","checkoutStatus","getters","availableProducts","filter","product","inventory","cartProducts","map","cartItem","id","title","price","image","quantity","cartTotalPrice","reduce","total","cartTotalQuantity","mutations","setProducts","pushProductToCart","productId","push","popProductToCart","incrementProductInventory","decrementProductInventory","incrementItemQuantity","decrementItemQuantity","setCartItems","items","setCheckoutStatus","status","emptyCart","actions","fetchProduct","commit","getProducts","error","console","log","addProductToCart","context","find","item","addQuantityToCart","popQuantityToCart","checkout","buyProducts"],"mappings":"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","sourcesContent":["import shop from \"../../api/shop\";\n\nconst state = {\n  products: [],\n  cart: [],\n  checkoutStatus: null,\n};\nconst getters = {\n  availableProducts(state) {\n    return state.products.filter((product) => product.inventory > 0);\n  },\n  cartProducts(state) {\n    return state.cart.map((cartItem) => {\n      const product = state.products.filter(\n        (product) => product.id === cartItem.id\n      );\n      return {\n        id: product[0].id,\n        title: product[0].title,\n        price: product[0].price,\n        image: product[0].image,\n        inventory: product[0].inventory,\n        quantity: cartItem.quantity,\n      };\n    });\n  },\n  \n  cartTotalPrice: (state, getters) => {\n    return getters.cartProducts.reduce((total, product) => {\n      return total + product.price * product.quantity;\n    }, 0);\n  },\n  cartTotalQuantity(state, getters) {\n    return getters.cartProducts.reduce((total, product) => {\n      return total + product.quantity;\n    }, 0);\n  },\n};\nconst mutations = {\n  setProducts(state, products) {\n    state.products = products;\n  },\n  pushProductToCart(state, productId) {\n    state.cart.push({\n      id: productId,\n      quantity: 1,\n    });\n  },\n  popProductToCart(state, productId) {\n    state.cart.push();\n  },\n  incrementProductInventory(state, product) {\n    product.inventory++;\n  },\n  decrementProductInventory(state, product) {\n    product.inventory--;\n  },\n  incrementItemQuantity(state, cartItem) {\n    cartItem.quantity++;\n  },\n  decrementItemQuantity(state, cartItem) {\n    cartItem.quantity--;\n  },\n  setCartItems(state, { items }) {\n    state.items = items;\n  },\n  setCheckoutStatus(state, status) {\n    state.checkoutStatus = status;\n  },\n  emptyCart(state) {\n    state.cart = [];\n  },\n};\nconst actions = {\n  fetchProduct({ commit }) {\n    try {\n      shop.getProducts((products) => {\n        commit(\"setProducts\", products);\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  },\n  addProductToCart(context, product) {\n    if (product.inventory > 0) {\n      const cartItem = context.state.cart.find(\n        (item) => item.id === product.id\n      );\n      if (!cartItem) {\n        context.commit(\"pushProductToCart\", product.id);\n      } else {\n        context.commit(\"incrementItemQuantity\", cartItem);\n      }\n      context.commit(\"decrementProductInventory\", product);\n    }\n  },\n  addQuantityToCart(context, product) {\n    if (product.inventory > 0) {\n      const cartItem = context.state.cart.find(\n        (item) => item.id === product.id\n      );\n      if (!cartItem) {\n        context.commit(\"pushProductToCart\", product.id);\n      } else {\n        context.commit(\"incrementItemQuantity\", cartItem);\n      }\n      context.commit(\"decrementProductInventory\", product);\n    }\n  },\n  popQuantityToCart(context, product) {\n    if (product.inventory > 0) {\n      const cartItem = context.state.cart.find(\n        (item) => item.id === product.id\n      );\n      if (!cartItem) {\n        context.commit(\"pushProductToCart\", product.id);\n      } else {\n        context.commit(\"decrementItemQuantity\", cartItem);\n      }\n      context.commit(\"incrementProductInventory\", product);\n    }\n  },\n  checkout({ commit, state }) {\n    shop.buyProducts(\n      state.cart,\n      () => {\n        commit(\"emptyCart\");\n        commit(\"setCheckoutStatus\", \"success\");\n      },\n      () => {\n        commit(\"setCheckoutStatus\", \"fail\");\n      }\n    );\n  },\n};\nexport default {\n  state,\n  getters,\n  actions,\n  mutations,\n};\n"]}]}