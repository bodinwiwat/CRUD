{"remainingRequest":"/Users/admin2/Not/vue-crud/node_modules/babel-loader/lib/index.js!/Users/admin2/Not/vue-crud/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin2/Not/vue-crud/src/store/modules/cart.js","dependencies":[{"path":"/Users/admin2/Not/vue-crud/src/store/modules/cart.js","mtime":1622090434828},{"path":"/Users/admin2/Not/vue-crud/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin2/Not/vue-crud/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin2/Not/vue-crud/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCBzaG9wIGZyb20gJy4uLy4uL2FwaS9zaG9wJzsKdmFyIHN0YXRlID0gewogIHByb2R1Y3RzOiBbXSwKICBjYXJ0OiBbXQp9Owp2YXIgZ2V0dGVycyA9IHsKICBhdmFpbGFibGVQcm9kdWN0czogZnVuY3Rpb24gYXZhaWxhYmxlUHJvZHVjdHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgcmV0dXJuIHByb2R1Y3QuaW52ZW50b3J5ID4gMDsKICAgIH0pOwogIH0sCiAgY2FydFByb2R1Y3RzOiBmdW5jdGlvbiBjYXJ0UHJvZHVjdHMoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5jYXJ0Lm1hcChmdW5jdGlvbiAoY2FydEl0ZW0pIHsKICAgICAgdmFyIHByb2R1Y3QgPSBzdGF0ZS5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHByb2R1Y3QpIHsKICAgICAgICByZXR1cm4gcHJvZHVjdC5pZCA9PT0gY2FydEl0ZW0uaWQ7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygnY2FydCA6Jywgc3RhdGUuY2FydCk7CiAgICAgIGNvbnNvbGUubG9nKCdwcm9kdWN0IDogJywgcHJvZHVjdCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdGl0bGU6IHByb2R1Y3QudGl0bGUsCiAgICAgICAgcHJpY2U6IHByb2R1Y3QucHJpY2UsCiAgICAgICAgaW1nOiBwcm9kdWN0LmltZywKICAgICAgICBxdWFudGl0eTogY2FydEl0ZW0ucXVhbnRpdHkKICAgICAgfTsKICAgIH0pOwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBzZXRQcm9kdWN0czogZnVuY3Rpb24gc2V0UHJvZHVjdHMoc3RhdGUsIHByb2R1Y3RzKSB7CiAgICBzdGF0ZS5wcm9kdWN0cyA9IHByb2R1Y3RzOwogIH0sCiAgcHVzaFByb2R1Y3RUb0NhcnQ6IGZ1bmN0aW9uIHB1c2hQcm9kdWN0VG9DYXJ0KHN0YXRlLCBwcm9kdWN0SWQpIHsKICAgIHN0YXRlLmNhcnQucHVzaCh7CiAgICAgIGlkOiBwcm9kdWN0SWQsCiAgICAgIHF1YW50aXR5OiAxCiAgICB9KTsKICB9LAogIGluY3JlbWVudEl0ZW1RdWFudGl0eTogZnVuY3Rpb24gaW5jcmVtZW50SXRlbVF1YW50aXR5KHN0YXRlLCBjYXJ0SXRlbSkgewogICAgY2FydEl0ZW0ucXVhbnRpdHkrKzsKICB9LAogIGRlY3JlbWVudFByb2R1Y3RJbnZlbnRvcnk6IGZ1bmN0aW9uIGRlY3JlbWVudFByb2R1Y3RJbnZlbnRvcnkoc3RhdGUsIHByb2R1Y3QpIHsKICAgIHByb2R1Y3QuaW52ZW50b3J5LS07CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBmZXRjaFByb2R1Y3Q6IGZ1bmN0aW9uIGZldGNoUHJvZHVjdChfcmVmKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CgogICAgdHJ5IHsKICAgICAgc2hvcC5nZXRQcm9kdWN0cyhmdW5jdGlvbiAocHJvZHVjdHMpIHsKICAgICAgICBjb21taXQoJ3NldFByb2R1Y3RzJywgcHJvZHVjdHMpOwogICAgICB9KTsKICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0KICB9LAogIGFkZFByb2R1Y3RUb0NhcnQ6IGZ1bmN0aW9uIGFkZFByb2R1Y3RUb0NhcnQoY29udGV4dCwgcHJvZHVjdCkgewogICAgaWYgKHByb2R1Y3QuaW52ZW50b3J5ID4gMCkgewogICAgICB2YXIgY2FydEl0ZW0gPSBjb250ZXh0LnN0YXRlLmNhcnQuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkID09PSBwcm9kdWN0LmlkOwogICAgICB9KTsKCiAgICAgIGlmICghY2FydEl0ZW0pIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgncHVzaFByb2R1Y3RUb0NhcnQnLCBwcm9kdWN0LmlkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnaW5jcmVtZW50SXRlbVF1YW50aXR5JywgY2FydEl0ZW0pOwogICAgICB9CgogICAgICBjb250ZXh0LmNvbW1pdCgnZGVjcmVtZW50UHJvZHVjdEludmVudG9yeScsIHByb2R1Y3QpOwogICAgfQogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMKfTs="},{"version":3,"sources":["/Users/admin2/Not/vue-crud/src/store/modules/cart.js"],"names":["shop","state","products","cart","getters","availableProducts","filter","product","inventory","cartProducts","map","cartItem","id","console","log","title","price","img","quantity","mutations","setProducts","pushProductToCart","productId","push","incrementItemQuantity","decrementProductInventory","actions","fetchProduct","commit","getProducts","error","addProductToCart","context","find","item"],"mappings":"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","sourcesContent":["import shop from '../../api/shop'\n\nconst state = {\n  products:[],\n  cart:[],\n}\nconst getters = {\n  availableProducts (state){\n    return state.products.filter(product => product.inventory > 0)\n  },\n  cartProducts(state){\n    return state.cart.map(cartItem => {\n      const product = state.products.filter(product => product.id === cartItem.id)\n      console.log('cart :',state.cart);\n      console.log('product : ',product);\n      return {\n        title: product.title,\n        price: product.price,\n        img: product.img,\n        quantity: cartItem.quantity,\n      }\n    })\n  },\n}\nconst mutations = {\n  setProducts(state,products){\n    state.products = products\n  },\n  pushProductToCart(state,productId){\n    state.cart.push({\n      id: productId,\n      quantity: 1\n    })\n  },\n  incrementItemQuantity(state,cartItem){\n    cartItem.quantity++\n  },\n  decrementProductInventory(state,product){\n    product.inventory--\n  },\n}\nconst actions = {\n  fetchProduct({commit}){\n    try{\n      shop.getProducts(products => {\n      commit('setProducts',products)\n    })\n    }catch(error){\n      console.log(error);\n    }\n  },\n  addProductToCart(context,product){\n    if(product.inventory > 0 ){\n      const cartItem = context.state.cart.find(item => item.id === product.id)\n      if(!cartItem){\n        context.commit('pushProductToCart',product.id)\n      }else{\n        context.commit('incrementItemQuantity',cartItem)\n      }\n    context.commit('decrementProductInventory',product)\n    }\n  }\n}\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n}"]}]}